<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Secure 3D Dice Roll</title>
<style>
body {
  margin: 0;
  height: 100vh;
  background: #222;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  font-family: sans-serif;
  touch-action: manipulation;
  overflow: hidden;
}

.dice-container {
  perspective: 1000px;
  width: 100%;
  height: 80%;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 100px;
}

.dice {
  width: 70px;
  height: 70px;
  transform-style: preserve-3d;
  transition: transform 1s;
  position: relative;
}

.face {
  position: absolute;
  width: 70px;
  height: 70px;
  background: #fff;
  border-radius: 8px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  box-shadow: inset -3px -3px 6px rgba(0,0,0,0.2),
              inset 3px 3px 6px rgba(0,0,0,0.2),
              0 3px 10px rgba(0,0,0,0.3);
}

.pip {
  width: 12px;
  height: 12px;
  background: #000;
  border-radius: 50%;
  margin: 2px;
}

/* Face transforms */
.front  { transform: rotateY(0deg) translateZ(35px); }
.back   { transform: rotateY(180deg) translateZ(35px); }
.right  { transform: rotateY(90deg) translateZ(35px); }
.left   { transform: rotateY(-90deg) translateZ(35px); }
.top    { transform: rotateX(90deg) translateZ(35px); }
.bottom { transform: rotateX(-90deg) translateZ(35px); }

/* Pip positions using order to match real dice faces */
.face-1 .pip:nth-child(1) { order: 5; }
.face-2 .pip:nth-child(1) { order: 1; }
.face-2 .pip:nth-child(2) { order: 9; }
.face-3 .pip:nth-child(1) { order: 1; }
.face-3 .pip:nth-child(2) { order: 5; }
.face-3 .pip:nth-child(3) { order: 9; }
.face-4 .pip:nth-child(1) { order: 1; }
.face-4 .pip:nth-child(2) { order: 3; }
.face-4 .pip:nth-child(3) { order: 7; }
.face-4 .pip:nth-child(4) { order: 9; }
.face-5 .pip:nth-child(1) { order: 1; }
.face-5 .pip:nth-child(2) { order: 3; }
.face-5 .pip:nth-child(3) { order: 5; }
.face-5 .pip:nth-child(4) { order: 7; }
.face-5 .pip:nth-child(5) { order: 9; }
.face-6 .pip:nth-child(1) { order: 1; }
.face-6 .pip:nth-child(2) { order: 3; }
.face-6 .pip:nth-child(3) { order: 4; }
.face-6 .pip:nth-child(4) { order: 6; }
.face-6 .pip:nth-child(5) { order: 7; }
.face-6 .pip:nth-child(6) { order: 9; }

/* Button base */
.button-base {
  width: 120px;
  height: 120px;
  background: #ff6f61;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 20px;
}

button {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: none;
  background: white;
  color: #ff6f61;
  font-weight: bold;
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

button:active {
  transform: scale(0.95);
}

/* Keyframes for rolling */
@keyframes roll {
  0%   { transform: rotateX(0deg) rotateY(0deg); }
  100% { transform: rotateX(1440deg) rotateY(1440deg); }
}
</style>
</head>
<body>

<div class="dice-container">
  <div class="dice" id="dice1">
    <div class="face front face-1"><div class="pip"></div></div>
    <div class="face back face-6"><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div></div>
    <div class="face right face-3"><div class="pip"></div><div class="pip"></div><div class="pip"></div></div>
    <div class="face left face-4"><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div></div>
    <div class="face top face-5"><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div></div>
    <div class="face bottom face-2"><div class="pip"></div><div class="pip"></div></div>
  </div>

  <div class="dice" id="dice2">
    <div class="face front face-1"><div class="pip"></div></div>
    <div class="face back face-6"><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div></div>
    <div class="face right face-3"><div class="pip"></div><div class="pip"></div><div class="pip"></div></div>
    <div class="face left face-4"><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div></div>
    <div class="face top face-5"><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div><div class="pip"></div></div>
    <div class="face bottom face-2"><div class="pip"></div><div class="pip"></div></div>
  </div>
</div>

<div class="button-base">
  <button id="rollBtn">Roll</button>
</div>

<script>
const dice1 = document.getElementById('dice1');
const dice2 = document.getElementById('dice2');
const rollBtn = document.getElementById('rollBtn');

// Dice rotation angles for faces
const rotations = [
  [0, 0],       // 1
  [90, 0],      // 2
  [0, -90],     // 3
  [0, 90],      // 4
  [-90, 0],     // 5
  [180, 0]      // 6
];

function rollDice(dice) {
  // Add rolling animation for 5 seconds
  dice.style.transition = 'transform 5s cubic-bezier(0.28, 1.5, 0.5, 1)';
  const random = Math.floor(Math.random() * 6);
  const [xRot, yRot] = rotations[random];
  const xSpin = xRot + 1440 * Math.random(); // 4 spins
  const ySpin = yRot + 1440 * Math.random();
  dice.style.transform = `rotateX(${xSpin}deg) rotateY(${ySpin}deg)`;
  return random + 1;
}

rollBtn.addEventListener('click', () => {
  rollBtn.disabled = true; // prevent repeated clicks during roll
  const result1 = rollDice(dice1);
  const result2 = rollDice(dice2);

  setTimeout(() => {
    console.log(`ðŸŽ² Final Result: ${result1} + ${result2} = ${result1 + result2}`);
    rollBtn.disabled = false; // enable button again
  }, 5000); // 5-second roll
});
</script>

</body>
</html>